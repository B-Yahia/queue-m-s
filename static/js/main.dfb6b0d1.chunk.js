(this.webpackJsonpqueue=this.webpackJsonpqueue||[]).push([[0],{35:function(e,t,i){},36:function(e,t,i){},37:function(e,t,i){},47:function(e,t,i){},48:function(e,t,i){},49:function(e,t,i){},50:function(e,t,i){},51:function(e,t,i){"use strict";i.r(t);var a=i(0),n=i.n(a),c=i(29),s=i.n(c),r=(i(35),i(4)),l=(i(36),i(37),i(6)),o=i(1),d=function(){return Object(o.jsxs)("div",{className:"homePage__container",children:[Object(o.jsx)("h1",{children:"Queue management system"}),Object(o.jsxs)("div",{className:"homePage",children:[Object(o.jsx)(l.b,{className:"home__button",to:"/welcome",children:"Welcome"}),Object(o.jsx)(l.b,{className:"home__button",to:"/waiting-list",children:"Waiting List"}),Object(o.jsxs)(l.b,{className:"home__button",to:"/server",children:["Server"," "]}),Object(o.jsxs)(l.b,{className:"home__button",to:"/admin",children:["Admin"," "]})]})]})},j=i(14),m=i(5),u=i(12),h=Object(a.createContext)(),b=function(e){var t=e.reducer,i=e.initialState,n=e.children;return Object(o.jsx)(h.Provider,{value:Object(a.useReducer)(t,i),children:n})},v=function(){return Object(a.useContext)(h)},O=(i(47),function(){var e=v(),t=Object(u.a)(e,2),i=t[0],n=i.waitingList,c=i.customer,s=t[1],r=Object(a.useState)(""),d=Object(u.a)(r,2),h=d[0],b=d[1];console.log("waitList",n);return Object(o.jsxs)("div",{className:"welcomePage__container",children:[Object(o.jsx)("h1",{children:'Welcome in "The company name"'}),Object(o.jsxs)("div",{className:"welcomePage",children:[Object(o.jsx)(l.b,{to:"/",className:"back__home",children:"Back to home"}),Object(o.jsxs)("form",{className:"welcomePage__form",onSubmit:function(e){e.preventDefault();var t=Object(m.a)(Object(m.a)({},c),{},{id:Date.now(),name:h,arrivingDate:new Date(Date.now()),arrivingTime:Date.now()});if(""!==t.name){var i=[].concat(Object(j.a)(n),[t]);console.log(i),s({type:"ADD_COSTUMER",waitingList:i}),b("")}else window.alert("The input field is empty.Please write your name")},children:[Object(o.jsx)("input",{placeholder:"Type your name",className:"form__input",value:h,onChange:function(e){return b(e.target.value)}}),Object(o.jsx)("button",{type:"submit",className:"form__button",children:"Add"})]})]})]})}),g=(i(48),i(71)),x=function(){var e=v(),t=Object(u.a)(e,2),i=t[0],a=i.waitingList,n=i.serviceList,c=(t[1],a.map((function(e,t){return Object(o.jsxs)("h4",{children:[t+1," - ",e.name]})})));return console.log(c),Object(o.jsxs)("div",{className:"waitingPage__container",children:[Object(o.jsx)("h1",{children:"Waiting List"}),Object(o.jsxs)("div",{className:"waitingPage",children:[Object(o.jsx)(l.b,{to:"/",className:"back__home",children:"Back to home"}),Object(o.jsxs)(g.a,{container:!0,spacing:3,children:[Object(o.jsx)(g.a,{item:!0,xs:6,children:Object(o.jsx)("div",{className:"waitingList",children:0!==a.length?a.map((function(e,t){return Object(o.jsxs)("h3",{className:"waitingList__item",children:[t+1," - ",e.name]},e.id)})):Object(o.jsx)("h2",{className:"empty__list",children:"Waiting List is empty"})})}),Object(o.jsx)(g.a,{item:!0,xs:6,children:Object(o.jsxs)("div",{className:"cins",children:[Object(o.jsx)("h3",{children:"Please go to Counter"}),Object(o.jsx)("h2",{className:"empty__list",children:0!==n.length?n.map((function(e){return Object(o.jsx)("h1",{className:"cins1",children:e.name},e.id)})):Object(o.jsx)("h2",{children:"Please get ready"})})]})})]})]})]})},f=(i(49),i(18)),p=i.n(f),_=function(){var e=v(),t=Object(u.a)(e,2),i=t[0],n=i.waitingList,c=i.serviceList,s=i.servedList,r=t[1],d=Object(a.useState)(""),h=Object(u.a)(d,2),b=h[0],O=h[1];console.log("servedBy",b);var g=c.map((function(e){return Object(o.jsxs)("div",{className:"serviceList",children:[Object(o.jsx)("h4",{children:e.name}),Object(o.jsxs)("span",{children:["Waiting Time : ",p()(e.waitingDuration).format("00:00:00")]})]},e.id)}));return Object(o.jsxs)("div",{className:"serverPage__container",children:[Object(o.jsx)("h1",{children:"Server"}),Object(o.jsxs)("div",{className:"serverPage",children:[Object(o.jsx)(l.b,{to:"/",className:"back__home",children:"back to home"}),Object(o.jsxs)("div",{className:"server",children:[Object(o.jsxs)("label",{htmlFor:"served_by",className:"server__servedBy",children:["Served By",Object(o.jsx)("input",{type:"text",value:b,onChange:function(e){return O(e.target.value)}})]}),Object(o.jsxs)("div",{className:"server__serviceClient",children:[Object(o.jsx)("button",{onClick:function(){if(0!==n.length)if(0===c.length){var e=n[0],t=Date.now(),i=n.filter((function(t){return t.id!==e.id})),a=Math.round((t-e.arrivingTime)/1e3),s=Object(m.a)(Object(m.a)({},e),{},{waitingDuration:a,serviceStartedTime:t});console.log(p()(a).format("00:00:00"));var l=[].concat(Object(j.a)(c),[s]);r({type:"MOVE_TO_SERVICE",waitingList:i,serviceList:l})}else window.alert("Please close the open ticket and then call another customer from the queue");else window.alert("Waiting list empty")},children:"Next"}),g,Object(o.jsx)("button",{onClick:function(){if(0!==c.length){var e=c[0],t=c.filter((function(t){return t.id!==e.id})),i=Date.now(),a=Math.round((i-e.serviceStartedTime)/1e3),n=Object(m.a)(Object(m.a)({},e),{},{serviceFinishedTime:i,serviceDuration:a,servedBy:b}),l=[].concat(Object(j.a)(s),[n]);console.log("updateServedList",l),console.log("updateServiceList",t),r({type:"REMOVE_FROM_SERVICE",servedList:l,serviceList:t})}else window.alert("Service List is empty")},children:"CloseTheTicket"})]})]})]})]})},N=(i(50),i(73)),w=i(76),L=i(77),S=i(72),D=i(74),T=i(75),y=function(){var e,t,i=v(),a=Object(u.a)(i,2),n=a[0],c=n.servedList,s=n.waitingList,r=(a[1],null===c||void 0===c||null===(e=c.map((function(e){return e.waitingDuration})))||void 0===e?void 0:e.reduce((function(e,t){return e+t}),0));console.log(null===c||void 0===c?void 0:c.map((function(e){return e.waitingDuration})));var d=null===c||void 0===c||null===(t=c.map((function(e){return e.serviceDuration})))||void 0===t?void 0:t.reduce((function(e,t){return e+t}),0),m=Math.round(r/c.length),h=Math.round(d/c.length),b={numberOfCustomersServed:c.length,averageWaitingDuration:m,averageServiceDuration:h,totalWaitingTime:r,totalServiceTime:d};console.log("servedCustomers",b);var O=[{id:"name",label:"Name",minWidth:170},{id:"arrivingDate",label:"Date",minWidth:70,align:"right",format:function(e){return e.toLocaleString()}},{id:"waitingDuration",label:"Waiting Duration",minWidth:70,align:"right",format:function(e){return p()(e).format("00:00:00")}},{id:"serviceDuration",label:"Service Duration",minWidth:70,align:"right",format:function(e){return p()(e).format("00:00:00")}},{id:"servedBy",label:"Server Name",minWidth:70,align:"right"}],g=Object(j.a)(c);return Object(o.jsxs)("div",{className:"adminPage__container",children:[Object(o.jsx)("h1",{children:"Admin"}),Object(o.jsxs)("div",{className:"adminPage",children:[Object(o.jsx)(l.b,{to:"/",className:"back__home",children:"Back to home"}),Object(o.jsx)("div",{className:"admin",children:Object(o.jsxs)("div",{className:"admin__info",children:[Object(o.jsxs)("p",{className:"detail-info",children:[Object(o.jsx)("span",{className:"detail-info-text",children:"The nuber of customers in the queue :"}),Object(o.jsx)("span",{className:"detail-info-value",children:s.length})]}),Object(o.jsxs)("p",{className:"detail-info",children:[Object(o.jsx)("span",{className:"detail-info-text",children:"The Totale served cutomers for the shift is :"}),Object(o.jsx)("span",{className:"detail-info-value",children:b.numberOfCustomersServed})]}),Object(o.jsxs)("p",{className:"detail-info",children:[Object(o.jsx)("span",{className:"detail-info-text",children:"The average waiting time for customers :"}),Object(o.jsx)("span",{className:"detail-info-value",children:p()(b.averageWaitingDuration).format("00:00:00")})]}),Object(o.jsxs)("p",{className:"detail-info",children:[Object(o.jsx)("span",{className:"detail-info-text",children:"The average service time for customers :"}),Object(o.jsx)("span",{className:"detail-info-value",children:p()(b.averageServiceDuration).format("00:00:00")})]}),Object(o.jsxs)("p",{className:"detail-info",children:[Object(o.jsx)("span",{className:"detail-info-text",children:"The total waiting time for customers :"}),Object(o.jsx)("span",{className:"detail-info-value",children:p()(b.totalWaitingTime).format("00:00:00")})]}),Object(o.jsxs)("p",{className:"detail-info",children:[Object(o.jsx)("span",{className:"detail-info-text",children:"The total service time for customers :"}),Object(o.jsx)("span",{className:"detail-info-value",children:p()(b.totalServiceTime).format("00:00:00")})]})]})}),Object(o.jsx)(S.a,{className:"tableContainer",children:Object(o.jsxs)(N.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(o.jsx)(D.a,{children:Object(o.jsx)(T.a,{children:O.map((function(e){return Object(o.jsx)(L.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(o.jsx)(w.a,{children:null===g||void 0===g?void 0:g.map((function(e){return Object(o.jsx)(T.a,{hover:!0,role:"checkbox",tabIndex:-1,children:O.map((function(t){var i=e[t.id];return Object(o.jsx)(L.a,{align:t.align,children:t.format?t.format(i):i},t.id)}))},e.id)}))})]})})]})]})};var C=function(){return Object(o.jsx)("div",{className:"app",children:Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{path:"/welcome",component:O}),Object(o.jsx)(r.a,{path:"/waiting-list",component:x}),Object(o.jsx)(r.a,{path:"/server",component:_}),Object(o.jsx)(r.a,{path:"/admin",component:y}),Object(o.jsx)(r.a,{exact:!0,path:"/",component:d})]})})},E=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,78)).then((function(t){var i=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;i(e),a(e),n(e),c(e),s(e)}))},W=function(e,t){switch(console.log(t),t.type){case"ADD_COSTUMER":return Object(m.a)(Object(m.a)({},e),{},{waitingList:t.waitingList});case"MOVE_TO_SERVICE":return Object(m.a)(Object(m.a)({},e),{},{waitingList:t.waitingList,serviceList:t.serviceList});case"REMOVE_FROM_SERVICE":return Object(m.a)(Object(m.a)({},e),{},{serviceList:t.serviceList,servedList:t.servedList});case"SERVED_COSTUMERS_DETAILS":return Object(m.a)(Object(m.a)({},e),{},{servedCustomers:t.servedCustomers});default:return e}};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(l.a,{children:Object(o.jsx)(b,{initialState:{waitingList:[],serviceList:[],servedList:[],customer:{id:"",name:"",arrivingDate:"",arrivingTime:0,serviceStartedTime:0,serviceFinishedTime:0,leavingTime:0,waitingDuration:0,serviceDuration:0,servedBy:""},servedCustomers:{numberOfCustomersServed:0,averageWaitingDuration:0,averageServiceDuration:0,totalWaitingTime:0,totalServiceTime:0}},reducer:W,children:Object(o.jsx)(C,{})})})}),document.getElementById("root")),E()}},[[51,1,2]]]);
//# sourceMappingURL=main.dfb6b0d1.chunk.js.map